<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JSON-Lens</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet"/>
  <style>
    body { font-size: 12px; }
    .folder, .file { cursor: pointer; margin: 1px 0; border: none; padding: 2px 5px; }
    .folder { font-weight: bold; }
    .folder-content { margin-left: 10px; }
    .hidden { display: none; }
    .folder:hover, .file:hover { background-color: #f8f9fa; }
    .navbar-brand img { vertical-align: middle; }
    .file-key { width: 120px; display: inline-block; }
    .file-value { margin-left: 5px; }
    .list-group-item { padding: 2px 5px; }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm" style="padding: 5px;">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968774.png" alt="logo" width="20" class="me-1"/>
        <span style="font-size: 14px;">JSON-Lens</span>
      </a>
    </div>
  </nav>

  <div class="container mt-2">
    <div id="fileBrowser" class="list-group"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const fileSystem = { "restaurant": { "name": "Sunny Side Cafe", "open": true, "rating": 4.7, "location": { "address": "123 Main Street", "city": "Berlin", "country": "Germany" }, "menu": [ { "id": 1, "name": "Pancakes", "price": 7.99, "ingredients": ["Flour", "Milk", "Eggs", "Sugar"], "vegan": false, "available": true, "sizes": { "small": 5.99, "medium": 7.99, "large": 9.99 } }, { "id": 2, "name": "Avocado Toast", "price": 6.99, "ingredients": ["Bread", "Avocado", "Tomato", "Olive Oil"], "vegan": true, "available": true, "sizes": null } ], "orders": [ { "orderId": "ORD12345", "customer": { "name": "Alice Johnson", "phone": "+49 152 3456789", "isLoyaltyMember": true }, "items": [ { "menuId": 1, "quantity": 2, "size": "medium" }, { "menuId": 2, "quantity": 1, "size": null } ], "totalPrice": 22.97, "status": "pending", "paymentMethod": "credit_card" } ] } };

    const fileBrowser = document.getElementById("fileBrowser");
    function createBrowserContent(json, parentElement) {
      for (const key in json) {
        switch (typeof json[key]) {
          case "string":
          case "number":
          case "boolean": {
            const file = document.createElement("div");
            file.className = "list-group-item file d-flex align-items-center";
            file.innerHTML = `<i class="bi ${typeof json[key] === "boolean" ? (json[key] ? "bi-toggle-on" : "bi-toggle-off") : (typeof json[key] === "number" ? "bi-123" : "bi-alphabet")}"></i>
              <span class="ms-1 file-key">${key}</span>
              <span class="file-value">${json[key]}</span>`;
            parentElement.appendChild(file);
            break;
          }
          case "object": {
            const folder = document.createElement("div");
            folder.className = "list-group-item folder d-flex align-items-center";
            folder.innerHTML = `<i class="bi bi-folder"></i> <span class="ms-1">${key}</span>`;
            folder.dataset.folder = key;
            const folderContent = document.createElement("div");
            folderContent.className = "folder-content hidden";
            folder.addEventListener("click", () => {
              folderContent.classList.toggle("hidden");
              folder.querySelector("i").className = folderContent.classList.contains("hidden") ? "bi bi-folder" : "bi bi-folder2-open";
            });
            parentElement.appendChild(folder);
            parentElement.appendChild(folderContent);
            createBrowserContent(json[key], folderContent);
            break;
          }
        }
      }
    }
    createBrowserContent(fileSystem, fileBrowser);
  </script>
</body>
</html>
